{% extends "pioneering/base.html" %}

{% block title %}
  <title>Pioneer's Detail | {{pioneer.publisher.name|title}}</title>
{% endblock title %}

{% block subbreadcrumbs %}
  <li class="is-active"><a href='#'>{{pioneer.publisher.name|title}}</a></li>
  <li class="is-active"><a href='#'>Detail</a></li>
{% endblock subbreadcrumbs %}

{% block main %}
  <h1>Pioneer's Detail</h1>

  <div class="field is-grouped is-pulled-right">
    <div class="control">
      <form id="form--{{ pioneer.pk }}" action='{% url "pioneering:delete" pioneer.pk %}' method="POST">
        {% csrf_token %}
        <input class="button is-outlined" title="Delete" type="submit" form="form--{{ pioneer.pk }}" value="del">
      </form>
    </div>

    <div class="control">
      <a href='{% url "pioneering:update" pioneer.slug %}'><button class="button is-outlined">edit</button></a>
    </div>
  </div>
  
  <p class="is-size-3">{{ pioneer.publisher.name|upper }}</p>
  <p>Code: {{ pioneer.code }}</p>
  <p>Status: {% if pioneer.is_active %}Active{% else %}Inactive{% endif %}</p>
  <p>RP: {% if pioneer.is_active_rp %}Yes{% else %}No{% endif %}</p>

  <section class="section">
    <h2>Pioneering Details</h2>
    <table class="table is-fullwidth">
      <thead>
        <tr>
          <th>Type</th>
          <th>Start</th>
          <th>End</th>
        </tr>
      </thead>
      <tbody>
        {% if pioneer.details.all %}
          {% for detail in pioneer.details.all %}
          <tr>
            <td>{{detail.pioneer_type}}</td>
            <td>{{detail.date_start}}</td>
            <td>{{detail.date_end}}</td>
          </tr>
          {% endfor %}
        {% else %}
          <tr>
            <td colspan="3" class="has-text-centered">No data available. Please create one.</td>
          </tr>
        {% endif %}
      </tbody>
    </table>
  </section>
{% endblock main %}